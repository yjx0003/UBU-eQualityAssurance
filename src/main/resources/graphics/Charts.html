<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="../css/tabulator.css" />
    <script type="text/javascript" src="./lib/tabulator.js"></script>
    <script type="text/javascript">

        var table;

        var rowPopupFormatter = function (e, row, onRendered) {
            var data = row.getData();
            
            if(!data.reasonFail || !data.reasonFailPopup){
                throw "no reason fail";
            }
            container = document.createElement("div");
            contents = data.reasonFail;
            if (data.reasonFailPopup) {
                contents += "<br><br>";
                for (const element of data.reasonFailPopup) {
                    contents += "<li>" + element + "</li>";
                }
            }

            container.innerHTML = contents;
            return container;
        }

        function updateTabulator(data, options) {

            options.columns = data.columns;
            options.data = data.tabledata;
            if (table) {
                table.destroy();
            }

            table = new Tabulator("#tabulatorDiv", options);




        }
    </script>
</head>

<body>


    <div id="tabulatorDiv"></div>
</body>

</html>